<!doctype html><html><head>
<title>Assignment 04: Testing - Prof. Dr. Barne Kleinen</title>
<link rel=icon href=https://bkleinen.github.io/favicon.ico>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<link rel=stylesheet href=https://bkleinen.github.io/assets/main.css>
<link rel=stylesheet href=https://bkleinen.github.io/css/syntax.css>
<link rel=stylesheet href=/css/style.min.f772b557719cabf0caa72eb3f6a546a1c62774994053c881465edbc396af7857.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121207290-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-121207290-1')</script>
<style>.async-hide{opacity:0!important}</style>
<script>(function(c,b,d,e,f,a,g,h,i){b.className+=' '+d,a.start=1*new Date,a.end=g=function(){b.className=b.className.replace(RegExp(' ?'+d),'')},(c[e]=c[e]||[]).hide=a,setTimeout(function(){g(),a.end=null},f),a.timeout=f})(window,document.documentElement,'async-hide','dataLayer',4e3,{'GTM-5NV39VZ':!0})</script>
<script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-121207290-2','auto'),ga('require','GTM-5NV39VZ'),ga('send','pageview')</script>
</head>
<body>
<div class=container-fluid>
<header class="row m-b-5">
<div class="col-md-2 c2">
&nbsp;
</div>
<div class="col-md-10 c1 p-2"><div class="d-flex flex-row c6">
<div class="c7 mt-auto">
<h1 class="c5 title"> Info3 - Labs and Exercises </h1>
<small>Website of <a href=https://bkleinen.github.io/>Prof. Dr. Barne Kleinen</a>, Professor for Media Informatics
(<a href=https://imi-bachelor.htw-berlin.de>Bachelor</a>/<a href=https://imi-master.htw-berlin.de>Master</a>) at <a href=https://www.htw-berlin.de>HTW Berlin</a> </small>
</div>
<div class="c7 ml-auto">
<a href=https://www.htw-berlin.de><img src=https://bkleinen.github.io/images/htw_logo_green.gif alt="HTW Berlin" title="HTW Berlin"></a><br><a href=https://bkleinen.github.io/>Prof. Dr. Barne Kleinen<br>HTW Berlin</a>
</div>
</div>
</div>
</header>
<main class="row p-0"><nav class="col-md-2 c2">
<div class=nav>
<ul class="nav flex-md-column">
<li class=nav-item>
<a class=nav-link href=/>Home</a>
</li>
<li class=nav-item>
<a class="nav-link dropdown-toggle active" href=# role=button id=dropdownMenuLink data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Classes
</a>
<div class=dropdown-menu aria-labelledby=dropdownMenuLink>
<a class=dropdown-item href=/classes/ws2021/info2/>B7 Info 2</a>
<a class=dropdown-item href=/classes/ws2021/networks/>B9 Networks</a>
<a class=dropdown-item href=/classes/ws2021/m1-web/>M1 Labs</a>
<a class=dropdown-item href=/classes/ws2021/m-wt1-webapplications/>M WT1 WebApps</a>
<a class=dropdown-item href=/classes/ws2021/>All WS 21/22</a>
<a class=dropdown-item href=/classes/>All Classes</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/contact/>Contact Info</a>
</li>
<li class=nav-item>
<a class="nav-link dropdown-toggle" href=# role=button id=dropdownMenuLink data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Studies
</a>
<div class=dropdown-menu aria-labelledby=dropdownMenuLink>
<a class=dropdown-item href=/studies/thesis/>Thesis</a>
<a class=dropdown-item href=/studies/ic/>IC</a>
<a class=dropdown-item href=/studies/grading/>Grading Info</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/software_projects/>Software Projects</a>
</li>
<li class=nav-item>
<a class="nav-link dropdown-toggle" href=# role=button id=dropdownMenuLink data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Misc
</a>
<div class=dropdown-menu aria-labelledby=dropdownMenuLink>
<a class=dropdown-item href=/misc/about-this-site/>About this Site</a>
<a class=dropdown-item href=/misc/trans/>Trans*</a>
<a class=dropdown-item href>LSF</a>
<a class=dropdown-item href=/misc/links/>Links</a>
</div>
</li>
<ul>
</div>
</nav>
<div class="col-md-10 c3">
<div class=outer>
<nav aria-label=breadcrumb role=navigation>
<ol class="breadcrumb breadcrumb-thin">
<li class=breadcrumb-item><a href=https://bkleinen.github.io/>Home</a></li>
<li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/>classes</a></li>
<li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2020/>ws2020</a></li>
<li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2020/info3/>info3</a></li>
<li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2020/info3/labs/>labs</a></li>
<li class="breadcrumb-item active" aria-current=page>lab-04-testing</li>
</ol>
</nav>
</div>
<div class=coursenav>
<ul class="nav nav-tabs">
<li class=nav-item>
<a class=nav-link href=/classes/ws2020/info3/>Info3</a>
</li>
<li class=nav-item>
<a class=nav-link href=/classes/ws2020/info3/continuous_assessment/>Assessment</a>
</li>
<li class=nav-item>
<a class=nav-link href=/classes/ws2020/info3/schedule/>Schedule</a>
</li>
<li class=nav-item>
<a class="nav-link active" href=/classes/ws2020/info3/labs/>Labs</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" data-toggle=dropdown href=# role=button aria-haspopup=true aria-expanded=false>External Links</a>
<div class=dropdown-menu>
<a class=dropdown-item target=ex_link href="https://moodle.htw-berlin.de/course/view.php?id=28123">Moodle</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=wsearchv&search=2&veranstaltung.veranstid=161201">SU in LSF</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=wsearchv&search=2&veranstaltung.veranstid=164935">Labs in LSF</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=wplan&act=stg&pool=stg&show=plan&P.vx=kurz&r_zuordabstgv.semvonint=3&r_zuordabstgv.sembisint=3&k_abstgv.abstgvnr=231">Semesterstundenplan im LSF</a>
<a class=dropdown-item target=ex_link href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples>Lecture Source Code</a>
</div>
</li>
</ul>
</div>
<h2 class=followed> Assignment 04: Testing</h2>
<header class=following>
<a data-toggle=collapse href=#tocContent role=button aria-expanded=false aria-controls=tocContent>
Table of Contents
</a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href=/classes/ws2020/info3/labs/lab-03-sequence-state/>&lt;prev</a>
<a href=/classes/ws2020/info3/labs/lab-05-legacy/>next></a>
</header>
<div class=collapse id=tocContent>
<nav id=TableOfContents>
<ul>
<li><a href=#assignment>Assignment</a>
<ul>
<li><a href=#preparation>Preparation</a></li>
<li><a href=#part-1-equivalence-classes>Part 1: Equivalence Classes</a></li>
<li><a href=#part-2-black-box-tests>Part 2: Black Box Tests</a></li>
<li><a href=#part-3-white-box-tests--path-coverage>Part 3: White Box Tests / Path Coverage</a></li>
<li><a href=#part-4-refactoring>Part 4: Refactoring</a></li>
<li><a href=#part-5-test-driven-development>Part 5: Test Driven Development</a></li>
</ul>
</li>
<li><a href=#results-submission>Results Submission</a></li>
</ul>
</nav>
</div>
<p><img src=../images/test-button.jpg alt="Test Button">
Test Button in Car. <a href=https://www.flickr.com/photos/cosmic_spanner/3766667411>Foto by Mike Roberts</a></p>
<h2 id=assignment>Assignment</h2>
<h3 id=preparation>Preparation</h3>
<ol>
<li>Download the source code snippets for this assignment: <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing>lab04-testing</a></li>
<li>Prepare your project <a href=../lab-01-startup>like we did it in the first lab</a> (Part 1: Set up the git repository and project). Note that this is now lab04, so make sure you adapt your process to that! Eg. put the project into <a href=https://gl-imi.f4.htw-berlin.de/info3-wise2020/lab04>the correct place on the gitlab server</a>.</li>
<li>In addition to what you&rsquo;ve covered in class, please have a look at <a href=https://en.wikipedia.org/wiki/Black_box_testing>black-box</a> and <a href=https://en.wikipedia.org/wiki/White_box_testing>white-box</a> testing.</li>
</ol>
<h3 id=part-1-equivalence-classes>Part 1: Equivalence Classes</h3>
<ol start=4>
<li>Using the black-box methodology, what are the equivalence classes for testing <em>a method that determines the absolute value of an integer</em>? Don&rsquo;t look at the code yet.</li>
<li>Now check out <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing/blob/master/lib/number.js><code>number.js</code></a>. For a white-box test, what would be test cases covering each branch?</li>
<li>Based on your analysis, define suitable test cases for <code>number.js</code> and implement them with jest in the <code>test</code> folder.</li>
<li>Run your tests: <code>npm test number</code>. Report on the results.</li>
<li>Lint and correct your code: <code>npm run lint test/number.test.js</code>.</li>
</ol>
<h3 id=part-2-black-box-tests>Part 2: Black Box Tests</h3>
<ol start=9>
<li><strong>Black-box test</strong>: Look at the following grading scale (which is not the grading scale for this course).</li>
</ol>
<table>
<thead>
<tr>
<th style=text-align:left>Points</th>
<th style=text-align:left>Grade</th>
<th style=text-align:left>Letter Grade</th>
</tr>
</thead>
<tbody>
<tr>
<td style=text-align:left>95-100</td>
<td style=text-align:left>1,0</td>
<td style=text-align:left>A</td>
</tr>
<tr>
<td style=text-align:left>90-94</td>
<td style=text-align:left>1,3</td>
<td style=text-align:left>A</td>
</tr>
<tr>
<td style=text-align:left>85-89</td>
<td style=text-align:left>1,7</td>
<td style=text-align:left>B</td>
</tr>
<tr>
<td style=text-align:left>80-84</td>
<td style=text-align:left>2,0</td>
<td style=text-align:left>B</td>
</tr>
<tr>
<td style=text-align:left>75-79</td>
<td style=text-align:left>2,3</td>
<td style=text-align:left>B</td>
</tr>
<tr>
<td style=text-align:left>70-74</td>
<td style=text-align:left>2,7</td>
<td style=text-align:left>C</td>
</tr>
<tr>
<td style=text-align:left>65-69</td>
<td style=text-align:left>3,0</td>
<td style=text-align:left>C</td>
</tr>
<tr>
<td style=text-align:left>60-64</td>
<td style=text-align:left>3,3</td>
<td style=text-align:left>C</td>
</tr>
<tr>
<td style=text-align:left>55-59</td>
<td style=text-align:left>3,7</td>
<td style=text-align:left>D</td>
</tr>
<tr>
<td style=text-align:left>50-54</td>
<td style=text-align:left>4,0</td>
<td style=text-align:left>D</td>
</tr>
<tr>
<td style=text-align:left>0-49</td>
<td style=text-align:left>5,0</td>
<td style=text-align:left>F</td>
</tr>
<tr>
<td style=text-align:left></td>
<td style=text-align:left></td>
<td style=text-align:left></td>
</tr>
</tbody>
</table>
<p>What are the equivalence classes for <em>a program that loops until a &ldquo;-1&rdquo; is entered, asking for the number of points on this scale; prints the appropriate letter grade (A-F), and then prints the average number of points when &ldquo;-1&rdquo; has been entered</em>? Let&rsquo;s call this program &ldquo;Grading Scale Calculator&rdquo;</p>
<ol start=10>
<li>
<p>Define one test case for each equivalence class.</p>
</li>
<li>
<p>Manually test your test cases by runnig the &ldquo;Grading Scale Calculator&rdquo;: <code>node "cliTools/gradingScale.min.js"</code> (The sources of this program - <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing/blob/master/cliTools/gradingScale.min.js>Command Line Interface</a> and <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing/blob/master/lib/gradingScale.min.js>Module</a> - are <a href=https://www.npmjs.com/package/terser>minified</a> JavaScript files - don&rsquo;t try to make sense of them). Report on the results. Did you find errors in the &ldquo;Grading Scale Calculator&rdquo;?</p>
</li>
</ol>
<h3 id=part-3-white-box-tests--path-coverage>Part 3: White Box Tests / Path Coverage</h3>
<ol start=12>
<li>
<p>Examine the code for the program &ldquo;Tax Time&rdquo;: <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing/blob/master/cliTools/taxTime.js><code>cliTools/taxTime.js</code></a>. Draw a code graph of the main class. How many independent paths are there?</p>
</li>
<li>
<p>What are the conditions that cause each of the paths to be taken? Draw up a table giving you an overview of the conditions.</p>
</li>
<li>
<p>Define one test case for each path.</p>
</li>
<li>
<p>Manually test the test cases by running &ldquo;Tax Time&rdquo;: <code>node "cliTools/taxTime.js"</code>. Report on your results. Did you find errors in &ldquo;Tax Time&rdquo;?</p>
</li>
</ol>
<h3 id=part-4-refactoring>Part 4: Refactoring</h3>
<ol start=16>
<li>
<p><em>Plan</em> (only plan!) how you would refactor &ldquo;Tax Time&rdquo; to make it&rsquo;s functionalities testable with jest. Hint: You would need to separate underlaying functionalities from the view (the part where user interaction happens, or CLI), putting the underlaying functionalities into <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing/blob/master/lib/taxTime.js><code>lib/taxTime.js</code></a>. But which methods should be in the <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing/blob/master/lib/taxTime.js><code>lib/taxTime.js</code></a> module? Which field variables do you need?</p>
</li>
<li>
<p>Implement the test cases from (Part 3, Ex 3) with jest in the <code>test</code> folder. Your tests should test <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing/blob/master/lib/taxTime.js><code>lib/taxTime.js</code></a>. Run them with code coverage: <code>npm run coverage taxTime</code>. What do you think - is it necessary to reach 100% code coverage?</p>
</li>
<li>
<p>Now actually refactor &ldquo;Tax Time&rdquo; so that your tests pass.</p>
</li>
<li>
<p>Lint and improve your code: <code>npm run lint "cliTools/taxTime.js" "lib/taxTime.js"</code>.</p>
</li>
</ol>
<h3 id=part-5-test-driven-development>Part 5: Test Driven Development</h3>
<p>Your task is to develop deletion and reversion of a simple linked list test driven. Note that you need to make decisions on the actual interface of the methods and the whole list while writing the test, as well as on how the anchor for the first element is stored and changed if necessary. You find a stub in <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing/blob/master/lib/node.js><code>node.js</code></a>. Some tests are already available at <a href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples/lab04-testing/blob/master/test/node.test.js><code>node.test.js</code></a>.</p>
<ol start=20>
<li>
<p>Look at the class <code>Node</code> as a head of a Linked List. Develop the jest unit tests for <em>deleting Nodes</em> (which test cases do you need to check?) and then develop a delete method to make your tests pass. Lint and correct your code: <code>npm run lint lib/node.js</code>.</p>
</li>
<li>
<p>Then, do the same for <em>reversing the list</em>. That is: Test-driven-develop a method reverse(). This is a bit tricky but doable with just one pass through the single linked list. Stick to the test cases, and give it a try - one node at a time! Don&rsquo;t forget to lint and correct your code.</p>
</li>
<li>
<p>For the bored: Refactor your Code after the Tests are running, and experiment with different implementations for deletion and reversion of a list. Report on your experiments.</p>
</li>
</ol>
<h2 id=results-submission>Results Submission</h2>
<ul>
<li>Hand in a link to your repository</li>
<li>Hand in a lab report</li>
<li>Take part in the oral test on Dec. 10 2020</li>
</ul>
<p>More info on the <a href=..>Labs</a> page.</p>
</div>
</div>
</main>
<footer class="row p-0">
<div class="col-md-2 c2">
&nbsp;
</div>
<div class="col-md-10 c4">
<small>
<hr>
<div class=container>
<p>
<a href=https://bkleinen.github.io/contact>Prof. Dr. Barne Kleinen</a>,
<a href=https://www.htw-berlin.de>HTW Berlin</a>,
<a href=https://www.f4.htw-berlin.de/>FB4</a>, <a href=https://imi-bachelor.htw-berlin.de/>International Media and Computing</a>
<br>
<a href=https://bkleinen.github.io/contact/impressum>Impressum</a>,
<a href=https://bkleinen.github.io/contact/datenschutzerklaerung>Datenschutzerkl√§rung</a>
<br>
<small>This page was authored by: kleinen
<br>
<a rel=license href=https://creativecommons.org/licenses/by-nc/3.0/de/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-nc/3.0/de/80x15.png></a>
This <span xmlns:dct=https://purl.org/dc/terms/ href=https://purl.org/dc/dcmitype/Text rel=dct:type>work</span> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-nc/3.0/de/deed.en_US>Creative Commons Attribution-NonCommercial 3.0 Germany License</a>.
</small>
</p>
</div>
</small>
</div>
&lt;
</footer>
<script>var tables=document.getElementsByTagName("table");for(i=0;i<tables.length;i++)tables[i].classList.add("table"),tables[i].classList.add("table-sm"),tables[i].classList.add("table-striped")</script>
<script type=text/javascript src=/js/bootstrap/jquery.slim.min.min.250c3f130e83120ce4c32207349955f8babb66ed6637dc45861cb5128b70f150.js></script>
<script type=text/javascript src=/js/bootstrap/popper.min.min.9260a4dc6d8cae88b6699aee4adc266d654e66a67ea1e43749fb3f57fc5c4d0b.js></script>
<script type=text/javascript src=/js/bootstrap/bootstrap.min.min.be982594640f7063a661a75f555ee89d1c7605524d511ae66f43765abf513016.js></script>
</body>
</html>