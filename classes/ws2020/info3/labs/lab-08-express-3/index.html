<!doctype html><html><head>
<title>Assignment 07 - Web Apps with Node and Express II - Prof. Dr. Barne Kleinen</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<link rel=stylesheet href=https://bkleinen.github.io/assets/main.css>
<link rel=stylesheet href=https://bkleinen.github.io/css/syntax.css>
<link rel=stylesheet href=/css/style.min.267ddc378fb8dce65f28ac9868a20c1894883c441035a9d101e4344a47b89dd7.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121207290-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-121207290-1')</script>
<style>.async-hide{opacity:0!important}</style>
<script>(function(c,b,d,e,f,a,g,h,i){b.className+=' '+d,a.start=1*new Date,a.end=g=function(){b.className=b.className.replace(RegExp(' ?'+d),'')},(c[e]=c[e]||[]).hide=a,setTimeout(function(){g(),a.end=null},f),a.timeout=f})(window,document.documentElement,'async-hide','dataLayer',4e3,{'GTM-5NV39VZ':!0})</script>
<script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-121207290-2','auto'),ga('require','GTM-5NV39VZ'),ga('send','pageview')</script>
</head>
<body>
<div class=container-fluid>
<header class="row m-b-5">
<div class="col-md-2 c2">
&nbsp;
</div>
<div class="col-md-10 c1 p-2"><div class="d-flex flex-row c6">
<div class="c7 mt-auto">
<h1 class="c5 title">Assignment 07 - Web Apps with Node and Express II</h1>
<small>Website of <a href=https://bkleinen.github.io/>Prof. Dr. Barne Kleinen</a>, Professor for Media Informatics
(<a href=https://imi-bachelor.htw-berlin.de>Bachelor</a>/<a href=https://imi-master.htw-berlin.de>Master</a>) at <a href=https://www.htw-berlin.de>HTW Berlin</a> </small>
</div>
<div class="c7 ml-auto">
<a href=https://www.htw-berlin.de><img src=https://bkleinen.github.io/images/htw_logo_green.gif alt="HTW Berlin" title="HTW Berlin"></a><br><a href=https://bkleinen.github.io/>Prof. Dr. Barne Kleinen<br>HTW Berlin</a>
</div>
</div>
</div>
</header>
<main class="row p-0">
<nav class="col-md-2 c2">
<div class=nav>
<ul class="nav flex-md-column">
<li class=nav-item>
<a class="nav-link dropdown-toggle active" href=# role=button id=dropdownMenuLink data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Classes
</a>
<div class=dropdown-menu aria-labelledby=dropdownMenuLink>
<a class=dropdown-item href=/classes/ws2021/info2/>B7 Info 2</a>
<a class=dropdown-item href=/classes/ws2021/networks/>B9 Networks</a>
<a class=dropdown-item href=/classes/ws2021/m1-web/>M1 Labs</a>
<a class=dropdown-item href=/classes/ws2021/m-wt1-webapplications/>M WT1 WebApps</a>
<a class=dropdown-item href>All WS 21/22</a>
<a class=dropdown-item href=/classes/>All Classes</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/contact/>Contact Info</a>
</li>
<li class=nav-item>
<a class="nav-link dropdown-toggle" href=# role=button id=dropdownMenuLink data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Studies
</a>
<div class=dropdown-menu aria-labelledby=dropdownMenuLink>
<a class=dropdown-item href=/studies/thesis/>Thesis</a>
<a class=dropdown-item href=/studies/ic/>IC</a>
<a class=dropdown-item href=/studies/grading/>Grading Info</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/software_projects/>Software Projects</a>
</li>
<li class=nav-item>
<a class="nav-link dropdown-toggle" href=# role=button id=dropdownMenuLink data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Misc
</a>
<div class=dropdown-menu aria-labelledby=dropdownMenuLink>
<a class=dropdown-item href=/misc/about-this-site/>About this Site</a>
<a class=dropdown-item href=/misc/trans/>Trans*</a>
<a class=dropdown-item href>LSF</a>
<a class=dropdown-item href=/misc/links/>Links</a>
</div>
</li>
<ul>
</div>
</nav>
<div class="col-md-10 c3">
<div class=outer>
<nav aria-label=breadcrumb role=navigation>
<ol class="breadcrumb breadcrumb-thin">
<li class=breadcrumb-item><a href=https://bkleinen.github.io/>Home</a></li>
<li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/>classes</a></li>
<li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2020/>ws2020</a></li>
<li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2020/info3/>info3</a></li>
<li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2020/info3/labs/>labs</a></li>
<li class="breadcrumb-item active" aria-current=page>lab-08-express-3</li>
</ol>
</nav>
</div>
<div class=coursenav>
<ul class="nav nav-tabs">
<li class=nav-item>
<a class=nav-link href=/classes/ws2020/info3/>Info3</a>
</li>
<li class=nav-item>
<a class=nav-link href=/classes/ws2020/info3/continuous_assessment/>Assessment</a>
</li>
<li class=nav-item>
<a class=nav-link href=/classes/ws2020/info3/schedule/>Schedule</a>
</li>
<li class=nav-item>
<a class="nav-link active" href=/classes/ws2020/info3/labs/>Labs</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" data-toggle=dropdown href=# role=button aria-haspopup=true aria-expanded=false>External Links</a>
<div class=dropdown-menu>
<a class=dropdown-item target=ex_link href="https://moodle.htw-berlin.de/course/view.php?id=28123">Moodle</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=wsearchv&search=2&veranstaltung.veranstid=161201">SU in LSF</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=wsearchv&search=2&veranstaltung.veranstid=164935">Labs in LSF</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=wplan&act=stg&pool=stg&show=plan&P.vx=kurz&r_zuordabstgv.semvonint=3&r_zuordabstgv.sembisint=3&k_abstgv.abstgvnr=231">Semesterstundenplan im LSF</a>
<a class=dropdown-item target=ex_link href=https://gl-imi.f4.htw-berlin.de/info3-code-stubs-and-samples>Lecture Source Code</a>
</div>
</li>
</ul>
</div>
<h1 id=from-lab07-to-lab08>From Lab07 to Lab08</h1>
<p>You will continue working on your project from Lab07.
However, it should be in a separate code base.
So you should create a new empty repository on GitLab in the folder for Lab08 and add this new repo as the new origin of your local repository.
For Lab08, only push to the project in the Lab08 folder!</p>
<h1 id=assignment-1-clean-up>Assignment 1: Clean Up</h1>
<h2 id=a-check-the-requirements>a) Check the requirements</h2>
<p>Check the following questions and if the answer is no, fix it. Those were things that you should have done in Lab06 and Lab07, but if you haven&rsquo;t do them now. <strong>Document in your report what you needed to fix.</strong></p>
<ol>
<li>Do you have a clearly visible MVC structure?</li>
<li>Do you transfer data a user inputs into an HTML form into your database, where it persists?</li>
<li>Do you transfer from the database into a template?</li>
<li>Do you use the HTTP methods correctly in your router?</li>
<li>Did you implement one end-to-end test for each major feature?</li>
<li>Do you have any mock data for testing?</li>
<li>Do you use a test database?</li>
</ol>
<h2 id=b-linting>b) Linting</h2>
<p>Install and configure <a href=https://eslint.org/>eslint</a> for your project. Lint your code.
For each error, decide whether you need to fix your code or your configuration.
<strong>Are there any major issues in your code style that eslint detected and that you could fix?
If so, document this in your report.</strong></p>
<h1 id=assignment-2-deploy-the-app-to-heroku>Assignment 2: Deploy the App to Heroku</h1>
<p>Deploy your app to heroku. Heroku is one the first
Platform-as-a-service providers, supporting a wide range of frameworks.
See <a href=https://www.heroku.com/nodejs>Node on Heroku</a> for the documentation.
As the package.json already specifies the correct start script, all I had to do was:
(You will need to create an account and install the command-line client)</p>
<pre><code>`heroku create`
</code></pre>
<p>and then</p>
<pre><code>`heroku open`
</code></pre>
<p>If you want to, rename your app</p>
<pre><code>`heroku rename timerpompom`
</code></pre>
<p>Now, the app should be running, but is missing a database. You will need a
database available on the net, e.g. using <a href=https://cloud.mongodb.com/>Mongo Atlas</a>. The documentation &ldquo;<a href=https://developer.mongodb.com/how-to/use-atlas-on-heroku>Atlas on Heroku</a>&rdquo; is a bit bulky, but boils down the these steps:</p>
<ul>
<li>
<p>create a mongodb cluster.</p>
</li>
<li>
<p>find and copy the connection string, e.g. mongodb+srv://app03:@cluster0.giyi7.mongodb.net/?retryWrites=true&w=majority</p>
</li>
<li>
<p>set the MONGODB_URI on heroku to this connection string (be sure to use the correct password and dbname)</p>
<p><code>heroku config:set MONGODB_URI=...</code></p>
</li>
<li>
<p>make sure the app picks up this environment variable to connect to the database, e.g.
in mongoose.js:</p>
<pre tabindex=0><code>const mongodbURI = process.env.MONGODB_URI || 'mongodb://localhost:27017/app04'
mongoose.connect(mongodbURI, { useNewUrlParser: true, useUnifiedTopology: true })
</code></pre></li>
</ul>
<p><strong>Document in your report any issues you had with deploying the app</strong></p>
<h2 id=results-submission>Results Submission</h2>
<ul>
<li>Hand in a link to your repository together with your report.</li>
<li>Hand in a lab report until March 28, 11pm. Make sure to answer the questions I put in this lab.</li>
</ul>
<h3 id=grading>Grading</h3>
<p>You get 1 star for each of the exercises that you completed (assignment 1 a and b and assignment 2). If you additionally hand in a good report that documents everything I asked you to document, you get another star. There won&rsquo;t be any oral tests.</p>
<h1 id=references>References</h1>
<ul>
<li><a href=https://cloud.mongodb.com/>Mongo Atlas</a></li>
<li><a href=https://www.heroku.com/nodejs>Node on Heroku</a></li>
<li><a href=https://developer.mongodb.com/how-to/use-atlas-on-heroku>Atlas on Heroku</a></li>
</ul>
</div>
</div>
</main>
<footer class="row p-0">
<div class="col-md-2 c2">
&nbsp;
</div>
<div class="col-md-10 c4">
<small>
<hr>
<div class=container>
<p>
<a href=https://bkleinen.github.io/contact>Prof. Dr. Barne Kleinen</a>,
<a href=https://www.htw-berlin.de>HTW Berlin</a>,
<a href=https://www.f4.htw-berlin.de/>FB4</a>, <a href=https://imi-bachelor.htw-berlin.de/>International Media and Computing</a>
<br>
<a href=https://bkleinen.github.io/contact/impressum>Impressum</a>,
<a href=https://bkleinen.github.io/contact/datenschutzerklaerung>Datenschutzerkl√§rung</a>
<br>
<small>This page was authored by: kleinen,
Version: fc1f57ae/v0.105
ref: refs/tags/v0.105, sha: fc1f57aeb1caafe4975122021bfc1c201383b131, deployed by workflow: Deploy Production / Github
</small>
<br>
<a rel=license href=https://creativecommons.org/licenses/by-nc/3.0/de/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-nc/3.0/de/80x15.png></a>
This <span xmlns:dct=https://purl.org/dc/terms/ href=https://purl.org/dc/dcmitype/Text rel=dct:type>work</span> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-nc/3.0/de/deed.en_US>Creative Commons Attribution-NonCommercial 3.0 Germany License</a>.
</p>
</div>
</small>
</div>
&lt;
</footer>
<script>var tables=document.getElementsByTagName("table");for(i=0;i<tables.length;i++)tables[i].classList.add("table"),tables[i].classList.add("table-sm"),tables[i].classList.add("table-striped")</script>
<script type=text/javascript src=/js/bootstrap/jquery.slim.min.min.250c3f130e83120ce4c32207349955f8babb66ed6637dc45861cb5128b70f150.js></script>
<script type=text/javascript src=/js/bootstrap/popper.min.min.9260a4dc6d8cae88b6699aee4adc266d654e66a67ea1e43749fb3f57fc5c4d0b.js></script>
<script type=text/javascript src=/js/bootstrap/bootstrap.min.min.be982594640f7063a661a75f555ee89d1c7605524d511ae66f43765abf513016.js></script>
</body>
</html>