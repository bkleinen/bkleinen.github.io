<!doctype html><html><head><title>Exercise 02: TicketMachine - Prof. Dr. Barne Kleinen</title><link rel=icon href=https://bkleinen.github.io//favicon.ico>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=theme-color content="#1A94D2"><link rel=stylesheet href=https://bkleinen.github.io/css/styles.min.css media=screen></head><body><div class=container-fluid><header class="row m-b-5"><div class="col-md-2 c2">&nbsp;</div><div class="col-md-10 c1 p-2"><div class=container-flex><div class=row><div class=col-9><h1 class="c5 title">B1 Informatics 1 WS 2023/24</h1><small>Website of Prof. Dr. Barne Kleinen, Professor for Media Informatics
(<a href=https://imi-bachelor.htw-berlin.de>Bachelor</a>/<a href=https://imi-master.htw-berlin.de>Master</a>)
at <a href=https://www.htw-berlin.de>HTW Berlin</a></small></div><div class=col-3><a href=https://www.htw-berlin.de><img src=https://bkleinen.github.io//images/htw_logo_green.gif alt="HTW Berlin" title="HTW Berlin"></a><br><a href=https://bkleinen.github.io//>Programming and Web Technology @ IMI</a></div></div></div></div></header><main class="row p-0"><nav class="col-md-2 c2"><div class=nav><ul class="nav flex-md-column"><li class=nav-item></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/><div>Home</div></a></li><li class=nav-item><a class="nav-link active" href=https://bkleinen.github.io/classes/><div>Class Archive</div></a></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/material/><div>Material</div></a></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/software_projects/><div>Software Projects</div></a></li><li class=nav-item><a class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# role=button aria-expanded=false>Studies</a><div class=dropdown-menu><a class=dropdown-item href=https://bkleinen.github.io/studies/thesis/>Thesis</a>
<a class=dropdown-item href=https://bkleinen.github.io/studies/ic/>IC</a>
<a class=dropdown-item href=https://bkleinen.github.io/studies/bafoeg/>Bafoeg</a>
<a class=dropdown-item href=https://bkleinen.github.io/studies/grading/>Grading Info</a></div></li><li class=nav-item><a class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# role=button aria-expanded=false>Misc</a><div class=dropdown-menu><a class=dropdown-item href=https://bkleinen.github.io/misc/links/>Links to frequently used pages</a>
<a class=dropdown-item href=https://bkleinen.github.io/misc/trans/>Trans@HTW</a>
<a class=dropdown-item href=https://bkleinen.github.io/misc/lsf/>Email Collector for LSF</a></div></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/contact/><div>Contact Info</div></a></li><ul></div></nav><div class="col-md-10 c3"><div class=outer><nav aria-label=breadcrumb role=navigation><ol class="breadcrumb breadcrumb-thin"><li class=breadcrumb-item><a href=https://bkleinen.github.io/>Home</a></li><li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/>classes</a></li><li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2023/>ws2023</a></li><li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2023/info1/>info1</a></li><li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2023/info1/labs/>labs</a></li><li class="breadcrumb-item active" aria-current=page>exercise-02</li></ol></nav></div><div class=coursenav><ul class="nav nav-tabs"><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/classes/ws2023/info1/>Info 1</a></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/classes/ws2023/info1/schedule/>Schedule</a></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/classes/ws2023/info1/resources/>Resources</a></li><li class=nav-item><a class="nav-link active" href=https://bkleinen.github.io/classes/ws2023/info1/labs/>Labs</a></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/classes/ws2023/info1/code/>Code</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# role=button aria-expanded=false>External Links</a><div class=dropdown-menu><a class=dropdown-item target=ex_link href="https://moodle.htw-berlin.de/course/view.php?id=44056">Moodle</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=verpublish&amp;status=init&amp;vmfile=no&amp;publishid=200295&amp;moduleCall=webInfo&amp;publishConfFile=webInfo&amp;publishSubDir=veranstaltung">SU in LSF</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=verpublish&amp;status=init&amp;vmfile=no&amp;publishid=200090&amp;moduleCall=webInfo&amp;publishConfFile=webInfo&amp;publishSubDir=veranstaltung">Labs in LSF</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=wplan&amp;act=stg&amp;pool=stg&amp;show=plan&amp;P.vx=mittel&amp;P.subc=plan&amp;subdir=stg&amp;week=-10&amp;k_abstgv.abstgvnr=231&amp;r_zuordabstgv.semvonint=1&amp;r_zuordabstgv.sembisint=1">Semesterstundenplan im LSF</a>
<a class=dropdown-item target=ex_link href=https://github.com/htw-imi-info1>Lecture Source Code</a></div></li></ul></div><div class=container-fluid><h2 class=followed>Exercise 02: TicketMachine</h2><header class=following><a data-bs-toggle=collapse href=#tocContent role=button aria-expanded=false aria-controls=tocContent>Table of Contents
</a>&nbsp;&nbsp;&nbsp;&nbsp;
<a href=https://bkleinen.github.io/classes/ws2023/info1/labs/exercise-01/>&lt;prev</a>
<a href=https://bkleinen.github.io/classes/ws2023/info1/labs/exercise-03/>next></a></header><div class=collapse id=tocContent><nav id=TableOfContents><ul><li><a href=#pre-lab>Pre-lab</a></li><li><a href=#assignment>Assignment</a><ul><li><a href=#part-1-ticketmachine>Part 1: TicketMachine</a></li><li><a href=#part-2-karaclock-preparation>Part 2: KaraClock Preparation</a></li></ul></li><li><a href=#what-to-hand-in>What to hand in</a></li></ul></nav></div><p><img src=../../images/ticket-5277919863_b741ccde84_b.jpg alt="Old Ticket">
Printed Ticket. <a href=https://www.flickr.com/photos/sludgeulper/5277919863/>Sludge G</a></p><p>Source code for this exercise:
<a href=https://github.com/htw-imi-info1/chapter02>https://github.com/htw-imi-info1/chapter02</a></p><h2 id=pre-lab>Pre-lab</h2><p><strong>1.</strong> What could be wrong with the following constructor? Don&rsquo;t execute it, think about it in your head.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=nf>TicketMachine</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>ticketCost</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=kt>int</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ticketCost</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=n>balance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=n>total</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p><strong>2.</strong> How can you tell the difference between a method and a constructor just by looking at its header?</p><p><strong>3.</strong> What do you think would be printed if you altered the fourth statement of printTicket so that price also has quotes around it, as follows:
<code>System.out.println("# " + "price" + " cents.");</code>
Don&rsquo;t execute this, just write down your expectations.</p><p><strong>4.</strong> What about the following version?
<code>System.out.println("# price cents.");</code></p><h2 id=assignment>Assignment</h2><h3 id=part-1-ticketmachine>Part 1: TicketMachine</h3><p>Download the <a href=https://github.com/htw-imi-info1/chapter02>exercise source code from GitHub</a> (you can download the whole <a href=https://github.com/htw-imi-info1/chapter02/zipball/main>chapter02 repository as a zip here</a>).</p><ol start=0><li>Download the Ticket-Machine project and open it in BlueJ. Experiment with it like we did in the lecture and record your observations.</li><li>Replace the constructor with the constructor from pre-lab exercise 1 and try it out. Were you right? What about the change given in pre lab exercises 2 and 3? What happens? Record your results in your report.</li><li>Is it always necessary to have a semicolon at the end of a field declaration? Experiment via the editor and record your results.</li><li>If the name of <code>getBalance</code> is changed to <code>getAmount</code>, does the return statement in the body of the method also need to be changed for the code to compile? Try it out within BlueJ. What does this tell you about the name of an accessor method and the name of the field associated with it?</li><li>Write an accessor method <code>getTotal</code> in the TicketMachine class. The new method should return the value of the total field.</li><li>Try removing the return statement from the body of getPrice. What error message do you see now when you try compiling the classes?</li><li>Complete the following method, whose purpose is to subtract the value of its parameter from a field named price.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Reduce price by the given amount.
</span></span></span><span class=line><span class=cl><span class=cm> **/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>discount</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>amount</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><ol start=7><li>Add a method called <code>prompt</code> to the TicketMachine class. This should have a void return type and take no parameters. The body of the method should print the following single line of output: <code>Please insert the correct amount of money.</code></li><li>Add the possibility to count the number of tickets sold. Include a method for outputting how many tickets have been sold, like we did in class / as described in the textbook.</li><li>Add a <code>printPrice</code> method to the TicketMachine class. This should have a void return type and take no parameters. The body of the method should print: <code>The price of a ticket is xyz cents.</code> where xyz should be replaced by the value held in the price field when the method is called. Now create two ticket machines with differently priced tickets. Do calls to their <code>printPrice</code> methods show the same output, or different? How do you explain this effect?</li></ol><h3 id=part-2-karaclock-preparation>Part 2: KaraClock Preparation</h3><p><em>update 23.10.2023</em>: there is a new special repo for all KaraClock exercises: <a href=https://github.com/htw-imi-info1/kara-clock-lab>https://github.com/htw-imi-info1/kara-clock-lab</a>
if you just start, use this one, otherwise just continue with the first one:
<del>Use the project <code>chapter02/kara/kara-clock-lab02</code> in <a href=https://github.com/htw-imi-info1/chapter02>chapter02</a> for these exercises.</del></p><p>You will need <code>while</code>-loops to solve these exercises, which we will discuss in class, but are not part of chapter02 in the book.</p><p>update 20.10.2023: as we did not do the while-loops today, the exercises 1. Multi-Move and 2. Count Leaves are OPTIONAL.</p><p><h4 id=0-count-leaves-with-act-loop-and-a-field>0. Count Leaves with act() loop and a field</h4><p>(optional if you skip to 2. Count Leaves but also a good preparation for it)</p><ol><li><p>Open <code>TestWorld4WithMyKara</code>. Make Kara move up to the tree and count the leaves found on it&rsquo;s way.
It should move up and count one step with each call to the act() method.
It should stop (by calling <code>Greenfoot.stop();</code>) either at the tree above or on the first free field.</p><p>Add an accessor(getter) (public int getCount() or similar) to return the number of leaves counted so far.</p></li></ol><h4 id=1-multi-move>1. Multi-Move</h4><ol><li>copy the multiMove method we discussed in class from <code>chapter02/kara/kara-loop-examples</code> to DigitDisplayKara (the method definition is already there, you just need to fill it). Test it in TestWorld0 and TestWorld1. TestWorld1 contains a setup you don&rsquo;t need to understand just now - just click &ldquo;act&rdquo; once and all Karas should be aligned in the middle like this:</li></ol><table><thead><tr><th style=text-align:left>Initial TestWorld1</th><th style=text-align:left>TestWorld1 after act()</th></tr></thead><tbody><tr><td style=text-align:left><img src=https://bkleinen.github.io/karaclock/01_multi_move/testworld1-before.jpg alt="TestWorld1 before"></td><td style=text-align:left><img src=https://bkleinen.github.io/karaclock/01_multi_move/testworld1-after.jpg alt="TestWorld1 after"></td></tr></tbody></table><ol start=2><li>Extend Multi-Move to move backwards: Extend the multiMove(int steps)-method to allow Kara to move backwards if a negative number is passed as parameter. It should turnAround (a method with the same name might be handy), move the appropriate number of steps and turnAround again. Hint: You can get the absolute value of a number <code>steps</code> using <code>Math.abs(steps)</code>. Use TestWorld0 during the development; after
you&rsquo;re done test it in TestWorld2:</li></ol><table><thead><tr><th style=text-align:left>Initial TestWorld2</th><th style=text-align:left>TestWorld2 after act()</th></tr></thead><tbody><tr><td style=text-align:left><img src=https://bkleinen.github.io/karaclock/01_multi_move/testworld2-before.jpg alt="TestWorld1 before"></td><td style=text-align:left><img src=https://bkleinen.github.io/karaclock/01_multi_move/testworld2-after.jpg alt="TestWorld1 after"></td></tr></tbody></table><h4 id=2-move-up-and-count>2. Move Up And Count</h4><ol><li>Open TestWorld4. complete the method <code>public int moveUpAndCount()</code> in <code>DigitDisplayKara</code>.
It should move up and count the leaves. It should stop either at the tree above or on the first free field. It returns the number of leaves counted.
Test your method by calling it from Kara&rsquo;s context menu.</li><li>When you&rsquo;re done, test your method in <code>TestWorld5</code>, which contains some edge cases like a full row and one with zero leaves.</li></ol><table><thead><tr><th style=text-align:left>TestWorld5 before</th><th style=text-align:left>TestWorld5 output</th><th style=text-align:left>TestWorld5 after act()</th></tr></thead><tbody><tr><td style=text-align:left><img src=https://bkleinen.github.io/karaclock/02_move_up_and_count/testworld5-before.jpg alt="TestWorld5 before"></td><td style=text-align:left><img src=https://bkleinen.github.io/karaclock/02_move_up_and_count/testworld5-output.jpg alt="TestWorld5 output"></td><td style=text-align:left><img src=https://bkleinen.github.io/karaclock/02_move_up_and_count/testworld5-after.jpg alt="TestWorld5 after"></td></tr></tbody></table></p><h2 id=what-to-hand-in>What to hand in</h2><p>Hand in your lab report (pdf) and your code (zip) the night before the next lab, 10pm (22.00 Uhr). See <a href=../>the Labs and Exercises page</a>.</p><hr><p>Adapted from <a href=https://people.f4.htw-berlin.de/~weberwu/info1/site/site/Labs/Lab1.shtml>https://people.f4.htw-berlin.de/~weberwu/info1/site/Labs/Lab1.shtml</a> , which was itself adapted from Objects First with Java, A Practical Introduction Using BlueJ. David Barnes & Michael Kölling, 2009</p><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script></div></div></div></main><footer class="row p-0"><div class="col-md-2 c2">&nbsp;</div><div class="col-md-10 c4"><small><hr><div class=container-fluid><div class=row><div class=col-9><a href=https://bkleinen.github.io//contact>Prof. Dr. Barne Kleinen</a>,
<a href=https://www.htw-berlin.de>HTW Berlin</a>,
<a href=https://www.f4.htw-berlin.de/>FB4</a>, <a href=https://imi-bachelor.htw-berlin.de/>International Media and Computing</a>.
&nbsp;&nbsp;&dash;&nbsp;&nbsp;</div><div class=col-3><a href=https://bkleinen.github.io//contact/impressum>Impressum</a>,
<a href=https://bkleinen.github.io//contact/datenschutzerklaerung>Datenschutzerklärung</a></div></div><div class=row><div class=col-9>This work is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/>Creative Commons Attribution-NonCommercial 4.0 International License</a>.<br><small>This page was authored by: kleinen</small></div><div class=col-3><a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/><img alt="Creative Commons Licence" style=border-width:0 src=https://i.creativecommons.org/l/by-nc/4.0/88x31.png></a></div></div><div class=row><div class=col-sm-12></div></div></div></small></div></footer><script>let sortTables=!1,stripedTables=!0</script><script src=https://bkleinen.github.io/js/bundle.min.e133eae943f4d1cb473481e473689ee73e9f6880b33894730d0b3c8f682d034e.js defer></script></body></html>