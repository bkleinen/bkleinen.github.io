<!doctype html><html><head><title>Exercise 04: Rock Around the Clock - Prof. Dr. Barne Kleinen</title><link rel=icon href=https://bkleinen.github.io//favicon.ico>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=theme-color content="#1A94D2"><link rel=stylesheet href=https://bkleinen.github.io/css/styles.min.css media=screen></head><body><div class=container-fluid><header class="row m-b-5"><div class="col-md-2 c2">&nbsp;</div><div class="col-md-10 c1 p-2"><div class=container-flex><div class=row><div class=col-9><h1 class="c5 title">B1 Informatics 1 WS 2023/24</h1><small>Website of Prof. Dr. Barne Kleinen, Professor for Media Informatics
(<a href=https://imi-bachelor.htw-berlin.de>Bachelor</a>/<a href=https://imi-master.htw-berlin.de>Master</a>)
at <a href=https://www.htw-berlin.de>HTW Berlin</a></small></div><div class=col-3><a href=https://www.htw-berlin.de><img src=https://bkleinen.github.io//images/htw_logo_green.gif alt="HTW Berlin" title="HTW Berlin"></a><br><a href=https://bkleinen.github.io//>Programming and Web Technology @ IMI</a></div></div></div></div></header><main class="row p-0"><nav class="col-md-2 c2"><div class=nav><ul class="nav flex-md-column"><li class=nav-item></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/><div>Home</div></a></li><li class=nav-item><a class="nav-link dropdown-toggle active" data-bs-toggle=dropdown href=# role=button aria-expanded=false>Classes</a><div class=dropdown-menu><a class=dropdown-item href=https://bkleinen.github.io/classes/ss2024/info2/>B 1 Informatik 2</a>
<a class=dropdown-item href=https://bkleinen.github.io/classes/ss2024/projects/>Praxisprojekte</a>
<a class=dropdown-item href=https://bkleinen.github.io/classes/ss2024/m1-web/>M 1 Mediaprogramming</a>
<a class=dropdown-item href=https://bkleinen.github.io/classes/ss2024/m17-masterseminar/>M 17.1 Masterseminar</a>
<a class=dropdown-item href=https://bkleinen.github.io/classes/ss2024/>All SoSe 2024</a>
<a class=dropdown-item href=https://bkleinen.github.io/classes/>All Classes</a></div></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/material/><div>Material</div></a></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/software_projects/><div>Software Projects</div></a></li><li class=nav-item><a class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# role=button aria-expanded=false>Studies</a><div class=dropdown-menu><a class=dropdown-item href=https://bkleinen.github.io/studies/thesis/>Thesis</a>
<a class=dropdown-item href=https://bkleinen.github.io/studies/ic/>IC</a>
<a class=dropdown-item href=https://bkleinen.github.io/studies/bafoeg/>Bafoeg</a>
<a class=dropdown-item href=https://bkleinen.github.io/studies/grading/>Grading Info</a></div></li><li class=nav-item><a class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# role=button aria-expanded=false>Misc</a><div class=dropdown-menu><a class=dropdown-item href=https://bkleinen.github.io/misc/links/>Links to frequently used pages</a>
<a class=dropdown-item href=https://bkleinen.github.io/misc/trans/>Trans@HTW</a>
<a class=dropdown-item href=https://bkleinen.github.io/misc/lsf/>Email Collector for LSF</a></div></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/contact/><div>Contact Info</div></a></li><ul></div></nav><div class="col-md-10 c3"><div class=outer><nav aria-label=breadcrumb role=navigation><ol class="breadcrumb breadcrumb-thin"><li class=breadcrumb-item><a href=https://bkleinen.github.io/>Home</a></li><li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/>classes</a></li><li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2023/>ws2023</a></li><li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2023/info1/>info1</a></li><li class=breadcrumb-item><a href=https://bkleinen.github.io/classes/ws2023/info1/labs/>labs</a></li><li class="breadcrumb-item active" aria-current=page>exercise-04</li></ol></nav></div><div class=coursenav><ul class="nav nav-tabs"><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/classes/ws2023/info1/>Info 1</a></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/classes/ws2023/info1/schedule/>Schedule</a></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/classes/ws2023/info1/resources/>Resources</a></li><li class=nav-item><a class="nav-link active" href=https://bkleinen.github.io/classes/ws2023/info1/labs/>Labs</a></li><li class=nav-item><a class=nav-link href=https://bkleinen.github.io/classes/ws2023/info1/code/>Code</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# role=button aria-expanded=false>External Links</a><div class=dropdown-menu><a class=dropdown-item target=ex_link href="https://moodle.htw-berlin.de/course/view.php?id=44056">Moodle</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=verpublish&amp;status=init&amp;vmfile=no&amp;publishid=200295&amp;moduleCall=webInfo&amp;publishConfFile=webInfo&amp;publishSubDir=veranstaltung">SU in LSF</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=verpublish&amp;status=init&amp;vmfile=no&amp;publishid=200090&amp;moduleCall=webInfo&amp;publishConfFile=webInfo&amp;publishSubDir=veranstaltung">Labs in LSF</a>
<a class=dropdown-item target=ex_link href="https://lsf.htw-berlin.de/qisserver/rds?state=wplan&amp;act=stg&amp;pool=stg&amp;show=plan&amp;P.vx=mittel&amp;P.subc=plan&amp;subdir=stg&amp;week=-10&amp;k_abstgv.abstgvnr=231&amp;r_zuordabstgv.semvonint=1&amp;r_zuordabstgv.sembisint=1">Semesterstundenplan im LSF</a>
<a class=dropdown-item target=ex_link href=https://github.com/htw-imi-info1>Lecture Source Code</a></div></li></ul></div><div class=container-fluid><h2 class=followed>Exercise 04: Rock Around the Clock</h2><header class=following><a data-bs-toggle=collapse href=#tocContent role=button aria-expanded=false aria-controls=tocContent>Table of Contents
</a>&nbsp;&nbsp;&nbsp;&nbsp;
<a href=https://bkleinen.github.io/classes/ws2023/info1/labs/exercise-03/>&lt;prev</a>
<a href=https://bkleinen.github.io/classes/ws2023/info1/labs/exercise-05/>next></a></header><div class=collapse id=tocContent><nav id=TableOfContents><ul><li><a href=#pre-lab>Pre-lab</a></li><li><a href=#what-to-hand-in>What To Hand In</a></li></ul><ul><li><a href=#part-1-clock-time>Part 1: Clock time</a><ul><li><a href=#part-2-completing-the-karaclock>Part 2: Completing the KaraClock</a></li></ul></li></ul></nav></div><p><a href=https://www.flickr.com/photos/arjanrichter/6085686394><img src=../../images/clock-stockholm-6085686394-320.jpg alt=Clock></a>
Katarina Elevator in Stockholm, Foto by <a href=https://www.flickr.com/photos/arjanrichter/6085686394>Arjan Richter</a></p><p>This week&rsquo;s lab work is intended to get you to implement parts of a class that is given for you. You are also to begin to see the idea of modularization, that is, splitting up code into classes.</p><h2 id=pre-lab>Pre-lab</h2><p><strong>P0.</strong> Which of the following expressions returns true? After writing your answers on paper, open the CodePad in BlueJ and try it out.</p><table><thead><tr><th style=text-align:left>Expression</th><th style=text-align:left>Your Answer</th><th style=text-align:left>Actual Value</th></tr></thead><tbody><tr><td style=text-align:left>! (4 &lt; 5)</td><td style=text-align:left>                                  </td><td style=text-align:left>                                  </td></tr><tr><td style=text-align:left>! false</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left>(2>2)</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left>(4==4) && (1&lt;0)</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left>(34 != 33) && !false</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left>(43 &lt; 42) && (rabbitCount > dogCount)</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left>test = (3 &lt; 4)</td><td style=text-align:left></td><td style=text-align:left></td></tr></tbody></table><p><strong>P1.</strong> Write an expression using boolean variables a and b that evaluates to true when either a and b are both true or both false.</p><p><strong>P2.</strong> Write an expression using boolean variables a and b that evaluates to true when only one of a and b is true, and which is false if a and b are both true or both false. This is called the <em>exclusive-or</em>.</p><p><strong>P3.</strong> Consider the expression (a && b). Write an equivalent expression (one that evaluates to true at exactly the same values for a and b) without using the && operator.</p><p><strong>P4.</strong> Americans are kind of strange about numbers and units. They write the days backwards, they use pounds and inches instead of kilograms and centimeters, and they have this bizarre 12-hour clock they use with &ldquo;am&rdquo; and &ldquo;pm&rdquo;.</p><ul><li>What time is &ldquo;12:00 am&rdquo; on the German (24-hour) clock?</li><li>What time is &ldquo;12:00 pm&rdquo;?</li><li>What time is &ldquo;03:00 am&rdquo;?</li><li>What time is &ldquo;05:30 pm&rdquo;?</li></ul><p><strong>P5.</strong> write a method that computes the 12hrs-clock <strong>hour</strong> value from the 24hrs-clock hour value.</p><p><strong>P5.</strong> write a method that takes the 24hrs-clock hour value as a parameter and returns the correct value for &ldquo;am&rdquo;/&ldquo;pm&rdquo; for the 12-hrs clock</p><h2 id=what-to-hand-in>What To Hand In</h2><p>You need to upload 2 Files to Moodle:</p><ul><li>Your Lab Report as PDF. For more Information on the report see <a href=../>the Labs and Exercises page</a>.</li><li>The source code folder containing all BlueJ projects compressed with ZIP and the extension .zip</li></ul><p>Lab assignments are due before your next lab at 22:00. They may, of course, be turned in earlier.</p><hr><h1 id=assignment>Assignment</h1><p>Source Code for this exercise:
<a href=https://github.com/htw-imi-info1/chapter03>https://github.com/htw-imi-info1/chapter03</a>
specifically the LED Display in the BlueJ Project <a href=https://github.com/htw-imi-info1/chapter03/tree/main/book-projects/clock-display-leds>book-projects/clock-display-leds</a>.</p><p>Here&rsquo;s an example how to use the LedDisplay:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>LedDisplay</span><span class=w> </span><span class=n>ld</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>LedDisplay</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ld</span><span class=p>.</span><span class=na>start</span><span class=p>();</span><span class=w> </span><span class=c1>// this starts the automatic clock update </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ld</span><span class=p>.</span><span class=na>toggleTicker</span><span class=p>();</span><span class=w> </span><span class=c1>// toggles between timeTicks every second and faster timeTicks (for testing)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ld</span><span class=p>.</span><span class=na>setTickerSpeed</span><span class=p>(</span><span class=n>100</span><span class=p>);</span><span class=w> </span><span class=c1>// make it real fast - 100 ms</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ld</span><span class=p>.</span><span class=na>stop</span><span class=p>();</span><span class=w> </span><span class=c1>// to stop the automatic timeTicks for manual testing like so:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ld</span><span class=p>.</span><span class=na>setTime</span><span class=p>(</span><span class=n>11</span><span class=p>,</span><span class=n>59</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ld</span><span class=p>.</span><span class=na>timeTick</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ld</span><span class=p>.</span><span class=na>setTime</span><span class=p>(</span><span class=n>23</span><span class=p>,</span><span class=n>59</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ld</span><span class=p>.</span><span class=na>timeTick</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></div><p>Note that - in difference to the original book example - the ClockDisplay stores the time in an int field <code>minutesInDay</code>, not in the various NumberDisplays!</p><h2 id=part-1-clock-time>Part 1: Clock time</h2><ol><li><p>Adapt the simple ClockDisplay (Class ClockDisplay) to &ldquo;display&rdquo; the time American-style (i.e. 12-hour clock and am / pm) (display meaning store it in the field displayString) You will have to include the am/pm in the time! Make sure your displayString has exactly the format as in this example: <code>06:15 am</code>.
<strong>Note that you only need to modify the method updateDisplay()!!</strong></p></li><li><p>Now, do the same for LedDisplay. It only has two methods, now you need to extend both of them to add the am/pm part.</p><ul><li>note that there is a boolean constant <code>WITH_AM_PM</code> in ClockDisplay that needs to be set to true to get a wider LEDDisplay with space for the am/pm part.</li><li>you can also use it to be able to switch between both modes, but this is optional.</li><li>NumberDisplay has a method <code>public void updateDisplay(String twoChars)</code>
that you can use to display the am/pm part - simply pass &ldquo;am&rdquo; or &ldquo;pm&rdquo;.</li></ul></li><li><p>Make your clock into an alarm clock by adding an alarm. You should be able to set the alarm time and turn the alarm on and off. When the clock reaches the alarm time, it should ring (writing &ldquo;Riiiiiiiing!&rdquo; to the terminal is sufficient).</p></li></ol><h3 id=part-2-completing-the-karaclock>Part 2: Completing the KaraClock</h3><p>This builds on the preparation exercises done during the last labs.
The code repository is still <a href=https://github.com/htw-imi-info1/kara-clock-lab>https://github.com/htw-imi-info1/kara-clock-lab</a> - the same as last week. You find an overview of all kara clock exercises in <a href=../karaclock-complete>karaclock-complete</a></p><p>All you have to add is a method that can set the Digit&rsquo;s value to
enable the setTime() method:</p><h4 id=6-initialize-digitdisplaykara-set-count-of-leaves>6. Initialize DigitDisplayKara (set count of leaves)</h4><p>In order to be able to set the clock to a given time, each digit needs to be able to initialize with a given number of leaves.</p><p>This could be achieved with the same number of ticks, but would take some time and would not be as elegant.</p><p>You can use the DecimalNumberWorld to test it. After completed, call DisplayKara&rsquo;s <code>setValue(1234567890);</code> to achieve the pattern in part 5.</p><h4 id=now-your-clock-should-work>Now, your clock should work!</h4><p><h4 id=7-the-first-kara-clock>7. The first Kara Clock</h4><p>Now, with your completed DigitalDisplayKara, the first Kara Clock can be built.</p><p>Open <code>ClockDisplayWorld1</code> - it contains three DigitDisplayKaras: one for minutes, one for ten minutes, and one for hours.
Experiment a bit with it!</p><p>Showing 24 hours is difficult though - 24 leaves would be too much, using two digits - one for 10 hours, one for single hours - would need to toggle the
limit for the single hour DigitDisplayKara between 10 and 4.</p><p>If you want a <em>real</em> clock open <code>ClockDisplayWorld12Hours</code>. It starts a thread and calls tick() every second, you can start and stop it using the
respective methods in <code>ClockDisplayKara</code></p><h4 id=8-the-12-hour-clock-with-ampm>8. The 12 Hour Clock with am/pm</h4><p>To show all 24 hours, a 12 hours am/pm is a good solution for the Kara-Clock!</p><p>The first step of changing it to a proper 12h clock with am/pm display has
already been made in <code>ClockDisplayWorld12Hours</code>. It uses a special <code>HoursDisplayKara</code>
for the hours, which shows a &ldquo;12&rdquo; instead of the &ldquo;0&rdquo;. Find the <code>getDisplayText(int count)</code>
to see how this is implemented. You can use this as a guide to create
an AmPmDisplayKara that is also a subclass of DigitDisplayKara and only overrides the <code>public String getDisplayText(int count)</code>
(note that this is only used to set the text below the lower tree line.)</p><p>Use <code>ClockDisplayWorldAmPm</code> (which is a copy of <code>ClockDisplayWorld12Hours</code>) to implement this.
Find and read its <code>prepareColumns()</code> method to understand how the clock display is built and what you need
to do to add another digit.</p><p>Technically, the ClockDisplayWorld is just a number with different rollOverLimits for each digit.
The place value has to be the product of the previous (mostly right) digit and its place value:</p><table><thead><tr><th style=text-align:left></th><th style=text-align:left>am/pm</th><th style=text-align:left>hours</th><th style=text-align:left>ten minutes</th><th style=text-align:left>minutes</th></tr></thead><tbody><tr><td style=text-align:left>limit</td><td style=text-align:left>2</td><td style=text-align:left>12</td><td style=text-align:left>6</td><td style=text-align:left>10</td></tr><tr><td style=text-align:left>placeValue</td><td style=text-align:left>12*60</td><td style=text-align:left>6*10</td><td style=text-align:left>10*1</td><td style=text-align:left>1</td></tr></tbody></table><p>Your task is to add the am/pm display.</p><p>It is just another digit with a place value of 12 hours,
and should show am/pm instead of 0 and 1.
Also, it has a special (quite illogical) position at the end, eg. 12:00 am.</p><p>To enable the DisplayKara to find and walk to the next DigitDisplayKara, each digit stores the number of steps (which may be
negative as it is simply passed to multiMove() ) in its field <code>stepsToNextDigit</code> which can be set with the constructor:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=nf>DigitDisplayKara</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>rollOverLimit</span><span class=p>,</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=n>placeValue</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>stepsToNextDigit</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://bkleinen.github.io/karaclock/08_add_am_pm/karaclock.jpg alt=KaraClock></p></p><p>Make sure
<a href=../karaclock-complete/#1-multi-move>1. Multi-Move</a>
and
<a href=../karaclock-complete/#2-move-up-and-count>2. Move up and Count</a> which you should have done in last week&rsquo;s lab or in class.</p><p>There is a special repo with the scaffold for all KaraClock exercises: <a href=https://github.com/htw-imi-info1/kara-clock-lab>https://github.com/htw-imi-info1/kara-clock-lab</a></p><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script></div></div></div></main><footer class="row p-0"><div class="col-md-2 c2">&nbsp;</div><div class="col-md-10 c4"><small><hr><div class=container-fluid><div class=row><div class=col-9><a href=https://bkleinen.github.io//contact>Prof. Dr. Barne Kleinen</a>,
<a href=https://www.htw-berlin.de>HTW Berlin</a>,
<a href=https://www.f4.htw-berlin.de/>FB4</a>, <a href=https://imi-bachelor.htw-berlin.de/>International Media and Computing</a>.
&nbsp;&nbsp;&dash;&nbsp;&nbsp;</div><div class=col-3><a href=https://bkleinen.github.io//contact/impressum>Impressum</a>,
<a href=https://bkleinen.github.io//contact/datenschutzerklaerung>Datenschutzerklärung</a></div></div><div class=row><div class=col-9>This work is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/>Creative Commons Attribution-NonCommercial 4.0 International License</a>.<br><small>This page was authored by: kleinen</small></div><div class=col-3><a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/><img alt="Creative Commons Licence" style=border-width:0 src=https://i.creativecommons.org/l/by-nc/4.0/88x31.png></a></div></div><div class=row><div class=col-sm-12></div></div></div></small></div></footer><script>let sortTables=!1,stripedTables=!0</script><script src=https://bkleinen.github.io/js/bundle.min.7b28f9d0d15e8d3d8b187bd1c878481f664d7eee6a085856700eddb658a32f39.js defer></script></body></html>